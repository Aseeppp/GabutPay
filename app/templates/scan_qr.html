{% extends "base.html" %}

{% block title %}Pindai QR{% endblock %}

{% block head_extra %}
<script src="https://unpkg.com/html5-qrcode@2.3.8/html5-qrcode.min.js"></script>
{% endblock %}

{% block content %}
<div class="row justify-content-center">
    <div class="col-md-8 col-lg-6" data-aos="fade-up">
        <div class="card border-0 shadow-lg">
            <div class="card-body p-4 p-lg-5 text-center">
                <h1 class="h4 fw-bold mb-3">Pindai Kode QR</h1>
                <p class="text-muted">Arahkan kamera Anda ke kode QR atau pilih gambar dari galeri.</p>
                
                <div id="qr-reader" class="mt-4"></div>
                
                <div id="qr-scan-result" class="mt-3"></div>

                <hr class="my-4">
                <p class="text-muted small">Jika scan dari galeri tidak berfungsi, gunakan tombol ini:</p>
                <label for="qr-file-input" class="btn btn-secondary">
                    <i class="bi bi-images"></i> Pilih File Manual
                </label>
                <input type="file" id="qr-file-input" accept="image/*" class="d-none">

                <div class="alert alert-warning small mt-4">
                    <i class="bi bi-exclamation-triangle"></i>
                    Anda mungkin perlu memberikan izin akses kamera pada browser.
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

